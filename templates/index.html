<!DOCTYPE html>
<html>
<head>

<meta charset="UTF-8">
<title>VHDS Health</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="/static/heatmap.js"></script>

<style>

body{
background:#0b0f1a;
color:white;
font-family:Arial;
text-align:center;
}

button{
margin:5px;
padding:10px 20px;
border-radius:20px;
border:none;
background:linear-gradient(45deg,#00aaff,#0066ff);
color:white;
cursor:pointer;
}

.lang button{
background:rgba(255,255,255,0.1);
}

</style>

</head>

<body>

<h1>VHDS Health自我健康管理</h1>

<div class="lang">
<button onclick="setLang('zh')">ZH</button>
<button onclick="setLang('en')">EN</button>
<button onclick="setLang('ja')">日本語</button>
<button onclick="setLang('ko')">한국어</button>
</div>

<br>

<button onclick="run('health')">健康管理</button>
<button onclick="run('skin')">肌膚管理</button>
<button onclick="run('face')">面相分析</button>
<button onclick="run('mind')">心理分析</button>

<br><br>

<canvas id="radar" width="400" height="300"></canvas>

<br>

<canvas id="heatmap" width="300" height="500"></canvas>

<script>

var lang="zh";

function setLang(l){
lang=l;
}

function run(mode){

fetch("/analyze",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({mode:mode,lang:lang})
})
.then(res=>res.json())
.then(data=>{

drawRadar(data);
drawHeatmap(data);

});
}

function drawRadar(data){

new Chart(document.getElementById("radar"),{

type:"radar",

data:{
labels:data.map(d=>d.name),
datasets:[{
data:data.map(d=>d.score),
borderColor:"cyan"
}]
}

});

}

</script>

</body>
</html>
